{"ast":null,"code":"import React from'react';import{useExperiment}from'../context/ExperimentContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FloorPlanDisplay=()=>{const{lightStates,targetAreas,isTaskActive,toggleSwitch,roomLayout}=useExperiment();const handleAreaClick=areaId=>{if(isTaskActive){toggleSwitch(areaId);}};// Use room layout if available, otherwise default to 4 rooms\nconst rooms=(roomLayout===null||roomLayout===void 0?void 0:roomLayout.rooms)||[{id:'A',left:0,top:0,width:400,height:300},{id:'B',left:400,top:0,width:400,height:300},{id:'C',left:0,top:300,width:533,height:300},{id:'D',left:533,top:300,width:267,height:300}];return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-6 bg-white rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6 text-center\",children:\"Floor Plan View\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative border-4 border-black bg-gray-50 rounded-lg\",style:{width:'100%',aspectRatio:'4/3',maxWidth:'800px',maxHeight:'600px'},children:rooms.map((room,index)=>{// Check if there's a room to the right or below\nconst hasRoomRight=rooms.some(r=>Math.abs(r.top-room.top)<5&&Math.abs(r.left-(room.left+room.width))<5);const hasRoomBelow=rooms.some(r=>Math.abs(r.left-room.left)<5&&Math.abs(r.top-(room.top+room.height))<5);return/*#__PURE__*/_jsx(\"div\",{className:\"absolute cursor-pointer transition-all duration-300\",style:{left:\"\".concat(room.left/800*100,\"%\"),top:\"\".concat(room.top/600*100,\"%\"),width:\"\".concat(room.width/800*100,\"%\"),height:\"\".concat(room.height/600*100,\"%\"),borderRight:hasRoomRight?'2px solid #9ca3af':'none',borderBottom:hasRoomBelow?'2px solid #9ca3af':'none'},onClick:()=>handleAreaClick(room.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-full flex items-center justify-center relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-full border-4 border-black transition-all duration-300 \".concat(lightStates[room.id]?'bg-cyan-200 border-cyan-400 shadow-lg shadow-cyan-400/50':'bg-white border-black',\" \").concat(isTaskActive?'':'opacity-60 cursor-not-allowed')}),lightStates[room.id]&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-cyan-200/30 rounded-lg pointer-events-none\"})]})},room.id);})})})]});};export default FloorPlanDisplay;","map":{"version":3,"names":["React","useExperiment","jsx","_jsx","jsxs","_jsxs","FloorPlanDisplay","lightStates","targetAreas","isTaskActive","toggleSwitch","roomLayout","handleAreaClick","areaId","rooms","id","left","top","width","height","className","children","style","aspectRatio","maxWidth","maxHeight","map","room","index","hasRoomRight","some","r","Math","abs","hasRoomBelow","concat","borderRight","borderBottom","onClick"],"sources":["/Users/alexis/BME4A/BME543/Project/src/components/FloorPlanDisplay.jsx"],"sourcesContent":["import React from 'react';\nimport { useExperiment } from '../context/ExperimentContext';\n\nconst FloorPlanDisplay = () => {\n  const { lightStates, targetAreas, isTaskActive, toggleSwitch, roomLayout } = useExperiment();\n  \n  const handleAreaClick = (areaId) => {\n    if (isTaskActive) {\n      toggleSwitch(areaId);\n    }\n  };\n  \n  // Use room layout if available, otherwise default to 4 rooms\n  const rooms = roomLayout?.rooms || [\n    { id: 'A', left: 0, top: 0, width: 400, height: 300 },\n    { id: 'B', left: 400, top: 0, width: 400, height: 300 },\n    { id: 'C', left: 0, top: 300, width: 533, height: 300 },\n    { id: 'D', left: 533, top: 300, width: 267, height: 300 }\n  ];\n  \n  return (\n    <div className=\"w-full p-6 bg-white rounded-xl shadow-lg\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6 text-center\">\n        Floor Plan View\n      </h2>\n      \n      {/* Floor Plan Container - dynamic layout */}\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"relative border-4 border-black bg-gray-50 rounded-lg\" style={{ \n          width: '100%', \n          aspectRatio: '4/3',\n          maxWidth: '800px',\n          maxHeight: '600px'\n        }}>\n          {/* Render rooms from layout */}\n          {rooms.map((room, index) => {\n            // Check if there's a room to the right or below\n            const hasRoomRight = rooms.some(r => \n              Math.abs(r.top - room.top) < 5 && \n              Math.abs(r.left - (room.left + room.width)) < 5\n            );\n            const hasRoomBelow = rooms.some(r => \n              Math.abs(r.left - room.left) < 5 && \n              Math.abs(r.top - (room.top + room.height)) < 5\n            );\n            \n            return (\n              <div\n                key={room.id}\n                className=\"absolute cursor-pointer transition-all duration-300\"\n                style={{\n                  left: `${(room.left / 800) * 100}%`,\n                  top: `${(room.top / 600) * 100}%`,\n                  width: `${(room.width / 800) * 100}%`,\n                  height: `${(room.height / 600) * 100}%`,\n                  borderRight: hasRoomRight ? '2px solid #9ca3af' : 'none',\n                  borderBottom: hasRoomBelow ? '2px solid #9ca3af' : 'none'\n                }}\n                onClick={() => handleAreaClick(room.id)}\n              >\n                <div className=\"w-full h-full flex items-center justify-center relative\">\n                  {/* Circular button without letter */}\n                  <div\n                    className={`w-16 h-16 rounded-full border-4 border-black transition-all duration-300 ${\n                      lightStates[room.id]\n                        ? 'bg-cyan-200 border-cyan-400 shadow-lg shadow-cyan-400/50'\n                        : 'bg-white border-black'\n                    } ${\n                      isTaskActive ? '' : 'opacity-60 cursor-not-allowed'\n                    }`}\n                  >\n                  </div>\n                  {/* Indicator light when ON */}\n                  {lightStates[room.id] && (\n                    <div className=\"absolute inset-0 bg-cyan-200/30 rounded-lg pointer-events-none\"></div>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FloorPlanDisplay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}